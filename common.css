/* ============================================
   INTRODUCTION
   Ce fichier CSS centralise les styles communs
   utilisés par toutes les pages HTML du dossier
   presentation_technique. Cette centralisation
   permet de maintenir une cohérence visuelle
   et de faciliter les modifications globales.
   Les styles définis respectent les standards
   d'accessibilité WCAG et s'adaptent aux
   préférences utilisateur (mode sombre, contraste
   élevé, animations réduites).
   ============================================ */

/* ============================================
   VARIABLES CSS - Palette de couleurs
   Cette section définit les variables CSS
   centralisées pour la palette de couleurs
   du projet. La définition centralisée facilite
   la maintenance et garantit la cohérence
   visuelle sur l'ensemble des pages.
   ============================================ */
:root {
  /* Palette sobre et professionnelle. */
  /* WCAG AA : contraste minimum 4.5:1 pour texte normal, 3:1 pour texte large. */
  /* WCAG AAA : contraste minimum 7:1 pour texte normal, 4.5:1 pour texte large. */
  --primary-color: #2563eb; /* Bleu professionnel avec ratio 4.5:1 sur blanc (WCAG AA). */
  --primary-dark: #1e40af; /* Ratio 7:1 sur blanc (WCAG AAA). */
  --primary-light: #3b82f6; /* Ratio 4.5:1 sur blanc (WCAG AA). */
  
  /* Gris neutres professionnels. */
  --neutral-dark: #1f2937; /* Ratio 12.6:1 sur blanc (WCAG AAA). */
  --neutral-medium: #4b5563; /* Ratio 7:1 sur blanc (WCAG AAA). */
  --neutral-light: #6b7280; /* Ratio 4.5:1 sur blanc (WCAG AA). */
  --neutral-lighter: #9ca3af; /* Ratio 2.5:1 sur blanc, usage décoratif uniquement. */
  
  /* Accent discret. */
  --accent-color: #2563eb; /* Même que primary pour cohérence, ratio 4.5:1 (WCAG AA). */
  --accent-hover: #1d4ed8; /* Ratio 7:1 sur blanc (WCAG AAA). */
  
  /* Couleurs de base. */
  --text-color: #111827; /* Ratio 16.6:1 sur blanc (WCAG AAA). */
  --text-secondary: #4b5563; /* Ratio 7:1 sur blanc (WCAG AAA). */
  --bg-color: #ffffff; /* Fond principal. */
  --bg-secondary: #f9fafb; /* Fond secondaire. */
  --card-bg: #ffffff; /* Fond des cartes. */
  --border-color: #e5e7eb; /* Bordure, usage décoratif. */
  
  /* Ombres subtiles. */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  
  --max-width: 1200px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --text-color: #f9fafb;
    --text-secondary: #d1d5db;
    --bg-color: #111827;
    --bg-secondary: #1f2937;
    --card-bg: #1f2937;
    --border-color: #374151;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
  }
}

/* ============================================
   RESET ET BASE
   Après avoir défini les variables de couleurs,
   cette section normalise les styles et configure
   les propriétés de base du document. Cette
   normalisation garantit un rendu cohérent
   sur tous les navigateurs et établit les
   fondations typographiques du projet.
   ============================================ */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 100px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  overflow-x: hidden;
  line-height: 1.6;
  min-height: 100vh;
}

/* Performance : utilisation de will-change pour les éléments animés. */
header, .card, section {
  will-change: transform;
}

/* Background sobre et professionnel. */
body::before {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(180deg, rgba(249, 250, 251, 0.5) 0%, rgba(255, 255, 255, 0.8) 100%);
  pointer-events: none;
  z-index: -1;
}

@media (prefers-color-scheme: dark) {
  body::before {
    background: linear-gradient(180deg, rgba(17, 24, 39, 0.5) 0%, rgba(31, 41, 55, 0.8) 100%);
  }
}

/* ============================================
   SKIP LINK - Accessibilité
   Après avoir configuré les styles de base,
   cette section définit le lien de saut au
   contenu principal. Ce lien améliore
   l'accessibilité en permettant aux utilisateurs
   de clavier et aux lecteurs d'écran de
   contourner la navigation principale.
   ============================================ */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary-color);
  color: white;
  padding: 10px 20px;
  text-decoration: none;
  z-index: 1000;
  font-weight: 600;
  border-radius: 0 0 4px 0;
}

.skip-link:focus {
  top: 0;
  outline: 3px solid var(--primary-color);
  outline-offset: 2px;
}

/* ============================================
   BREADCRUMB NAVIGATION - Fil d'Ariane
   Cette section définit les styles pour la
   navigation hiérarchique par fil d'Ariane.
   Le fil d'Ariane améliore l'orientation
   utilisateur en affichant le chemin de
   navigation actuel dans la structure du site.
   ============================================ */
.breadcrumb {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 100px 20px 20px;
  font-size: 0.9em;
}

.breadcrumb ol {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
}

.breadcrumb li {
  display: flex;
  align-items: center;
}

.breadcrumb li:not(:last-child)::after {
  content: '›';
  margin-left: 8px;
  color: var(--text-secondary);
}

.breadcrumb a {
  color: var(--primary-color);
  text-decoration: none;
  transition: color 0.2s ease;
}

.breadcrumb a:hover {
  color: var(--primary-dark);
  text-decoration: underline;
}

.breadcrumb [aria-current="page"] {
  color: var(--text-secondary);
  font-weight: 500;
}

/* ============================================
   HEADER - Navigation principale
   Après avoir défini les éléments de navigation
   accessibles, cette section configure le header
   fixe avec effet glassmorphism. Le header
   reste visible lors du défilement et offre
   une navigation accessible avec des indicateurs
   visuels clairs pour l'état actif.
   ============================================ */
header {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  padding: 14px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 100;
}

@media (prefers-color-scheme: dark) {
  header {
    background: rgba(31, 41, 55, 0.95);
    border-bottom-color: var(--border-color);
  }
}

.header-left a {
  text-decoration: none;
  color: inherit;
  display: block;
}

.header-left a:focus-visible {
  outline: 3px solid var(--primary-color);
  outline-offset: 4px;
  border-radius: 3px;
  padding: 2px 4px;
}

.header-left h2 {
  margin: 0;
  font-size: 1.35em;
  color: var(--primary-color);
  font-weight: 700;
  white-space: nowrap;
  transition: color 0.2s ease;
}

.header-left a:hover h2 {
  color: var(--accent-hover);
}

.header-nav {
  display: flex;
  gap: 22px;
  flex-wrap: wrap;
  align-items: center;
}

.header-nav a {
  text-decoration: none;
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 0.95em;
  white-space: nowrap;
  transition: color 0.2s ease;
  position: relative;
}

.header-nav a::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: 100%;
  height: 2px;
  background: var(--primary-color);
  border-radius: 2px;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.header-nav a:hover {
  color: var(--primary-color);
}

.header-nav a:hover::after {
  transform: translateX(-50%) scaleX(1);
}

.header-nav a:focus-visible {
  outline: 3px solid var(--primary-color);
  outline-offset: 4px;
  border-radius: 3px;
}

.header-nav a.active {
  color: var(--primary-color);
}

.header-nav a.active::after {
  transform: translateX(-50%) scaleX(1);
}

/* Header responsive pour les petits écrans. */
@media (max-width: 850px) {
  header {
    flex-direction: column;
    align-items: flex-start;
    padding: 16px 25px;
  }

  .header-nav {
    margin-top: 10px;
    gap: 14px;
  }
}

/* ============================================
   LAZY LOADING - Images
   Cette section définit les styles pour le
   chargement différé des images. Le lazy loading
   améliore les performances en ne chargeant
   les images que lorsqu'elles sont sur le point
   d'être affichées dans le viewport.
   ============================================ */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.3s ease;
}

img[loading="lazy"].loaded {
  opacity: 1;
}

/* ============================================
   FOCUS VISIBLE ENHANCEMENT
   Après avoir optimisé le chargement des images,
   cette section améliore la visibilité du focus
   pour l'accessibilité. Les indicateurs de focus
   visibles sont essentiels pour les utilisateurs
   naviguant au clavier.
   ============================================ */
*:focus-visible {
  outline: 3px solid var(--primary-color);
  outline-offset: 2px;
  border-radius: 2px;
}

/* ============================================
   REDUCED MOTION
   Cette section respecte les préférences
   utilisateur pour les animations réduites.
   Le respect de la préférence prefers-reduced-motion
   améliore l'accessibilité pour les utilisateurs
   sensibles aux animations.
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================
   HIGH CONTRAST MODE
   Après avoir géré les animations réduites,
   cette section supporte le mode contraste élevé.
   Le support du mode contraste élevé améliore
   la lisibilité pour les utilisateurs ayant
   besoin d'un contraste renforcé.
   ============================================ */
@media (prefers-contrast: high) {
  :root {
    --border-color: #000000;
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.5);
  }
}

/* ============================================
   SCREEN READER ONLY
   Cette dernière section définit la classe
   pour le contenu accessible uniquement aux
   lecteurs d'écran. Cette classe permet
   d'ajouter du contenu contextuel invisible
   visuellement mais accessible aux technologies
   d'assistance.
   ============================================ */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

